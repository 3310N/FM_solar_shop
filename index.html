<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>FM Solar Shop â€” ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø´Ù…Ø³ÙŠØ© 3PTZ</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Changa:wght@400;500;600;700;800&family=IBM+Plex+Sans+Arabic:wght@400;500;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth;-webkit-text-size-adjust:100%}

:root{
  --sun:#E8890C;
  --sun-deep:#C66D00;
  --sun-glow:#FFB340;
  --dark:#111;
  --dark2:#1a1a1a;
  --dark3:#252525;
  --mint:#0FA677;
  --red:#D64045;
  --cream:#FFF8F0;
  --cream2:#F5EBE0;
  --txt:#222;
  --txt2:#666;
  --txt3:#999;
  --white:#fff;
}

body{
  font-family:'IBM Plex Sans Arabic','Changa',sans-serif;
  background:var(--cream);
  color:var(--txt);
  line-height:1.7;
  overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
  width:100%;
  min-height:100vh;
}

/* ===== ANNOUNCEMENT ===== */
.ann{
  background:var(--dark);
  color:var(--sun-glow);
  text-align:center;
  padding:8px 12px;
  font-size:11px;
  font-weight:600;
}

/* ===== NAV ===== */
.nav{
  background:var(--dark);
  padding:10px 14px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  position:sticky;
  top:0;
  z-index:100;
  border-bottom:2px solid var(--sun);
}
.logo{
  display:flex;
  align-items:center;
  gap:8px;
}
.logo-box{
  width:32px;height:32px;
  background:var(--sun);
  border-radius:8px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:14px;
}
.logo-txt{
  font-family:'Changa',sans-serif;
  font-size:16px;
  font-weight:700;
  color:var(--white);
}
.wa-btn{
  background:var(--mint);
  color:var(--white);
  padding:7px 14px;
  border-radius:50px;
  text-decoration:none;
  font-size:12px;
  font-weight:600;
  display:flex;
  align-items:center;
  gap:4px;
}

/* ===== HERO ===== */
.hero{
  background:var(--dark);
  padding:24px 16px 28px;
  text-align:center;
}
.hero-badge{
  display:inline-block;
  background:rgba(232,137,12,0.15);
  border:1px solid rgba(232,137,12,0.3);
  color:var(--sun-glow);
  padding:5px 14px;
  border-radius:50px;
  font-size:11px;
  font-weight:600;
  margin-bottom:14px;
}
.hero h1{
  font-family:'Changa',sans-serif;
  font-size:28px;
  font-weight:800;
  line-height:1.3;
  color:var(--white);
  margin-bottom:10px;
}
.hero h1 span{color:var(--sun-glow)}
.hero p{
  font-size:13px;
  color:rgba(255,255,255,0.5);
  line-height:1.9;
}

/* ===== CAROUSEL ===== */
.carousel{
  width:100%;
  position:relative;
  overflow:hidden;
  background:var(--dark2);
  touch-action:pan-y;
}
.carousel-inner{
  display:flex;
  width:300%;
  transition:transform 0.4s ease;
}
.carousel-inner.dragging{
  transition:none;
}
.carousel-slide{
  width:100%;
  flex-shrink:0;
}
.carousel-slide img{
  width:100%;
  display:block;
  height:75vw;
  max-height:400px;
  object-fit:contain;
  object-position:center;
  background:var(--dark2);
}
.carousel-dots{
  position:absolute;
  bottom:10px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:6px;
  background:rgba(0,0,0,0.5);
  padding:5px 10px;
  border-radius:50px;
  z-index:5;
}
.carousel-dots span{
  width:8px;height:8px;
  border-radius:50%;
  background:rgba(255,255,255,0.3);
  cursor:pointer;
  transition:all 0.3s;
}
.carousel-dots span.active{
  background:var(--sun-glow);
  width:22px;
  border-radius:4px;
}
.carousel-arr{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  width:36px;height:36px;
  border-radius:50%;
  background:rgba(255,255,255,0.85);
  border:none;
  font-size:16px;
  cursor:pointer;
  z-index:5;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 2px 8px rgba(0,0,0,0.15);
  color:var(--dark);
}
.carousel-arr.prev{left:8px}
.carousel-arr.next{right:8px}
.sale-tag{
  position:absolute;
  top:10px;
  right:10px;
  background:var(--red);
  color:var(--white);
  font-family:'Space Mono',monospace;
  font-size:12px;
  font-weight:700;
  padding:4px 10px;
  border-radius:8px;
  z-index:5;
}

/* ===== PRICE ===== */
.price-row{
  background:var(--dark);
  padding:14px 16px;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:12px;
  margin:12px;
  border-radius:14px;
}
.price-big{
  font-family:'Space Mono',monospace;
  font-size:32px;
  font-weight:700;
  color:var(--sun-glow);
  letter-spacing:-1px;
}
.price-big small{
  font-size:12px;
  color:rgba(255,255,255,0.4);
  letter-spacing:0;
}
.price-old{
  font-family:'Space Mono',monospace;
  font-size:14px;
  color:rgba(255,255,255,0.3);
  text-decoration:line-through;
}
.price-pct{
  background:var(--red);
  color:var(--white);
  font-size:11px;
  font-weight:700;
  padding:3px 8px;
  border-radius:6px;
}

/* ===== TRUST ===== */
.trust{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  margin:0 12px 12px;
  border-radius:14px;
  overflow:hidden;
}
.trust-item{
  padding:14px 6px;
  text-align:center;
}
.trust-item:nth-child(1){background:#FFF3E0}
.trust-item:nth-child(2){background:#E8F5E9}
.trust-item:nth-child(3){background:#E3F2FD}
.trust-item .ti-icon{font-size:22px;margin-bottom:4px}
.trust-item .ti-txt{font-size:10px;font-weight:600;color:var(--txt);line-height:1.5}

/* ===== FEATURES ===== */
.features{
  background:var(--dark);
  padding:24px 12px;
}
.sec-title{
  font-family:'Changa',sans-serif;
  font-size:17px;
  font-weight:700;
  color:var(--white);
  text-align:center;
  margin-bottom:14px;
}
.feat-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:8px;
}
.feat-card{
  background:rgba(255,255,255,0.06);
  border:1px solid rgba(255,255,255,0.08);
  border-radius:12px;
  padding:14px 10px;
}
.feat-card .fc-icon{font-size:24px;margin-bottom:6px}
.feat-card .fc-name{font-size:12.5px;font-weight:700;color:var(--white);margin-bottom:2px}
.feat-card .fc-desc{font-size:10.5px;color:rgba(255,255,255,0.4)}

/* ===== PROOF ===== */
.proof{
  background:linear-gradient(135deg,var(--sun),var(--sun-deep));
  padding:18px 16px;
  text-align:center;
}
.proof-stars{font-size:22px;letter-spacing:2px;margin-bottom:4px}
.proof-num{font-family:'Space Mono',monospace;font-size:14px;font-weight:700;color:var(--white);margin-bottom:2px}
.proof-txt{font-size:11px;color:rgba(255,255,255,0.7)}

/* ===== ORDER FORM ===== */
.order{
  background:var(--white);
  padding:24px 14px;
  position:relative;
}
.order::before{
  content:'';
  position:absolute;
  top:0;left:15%;right:15%;
  height:3px;
  background:linear-gradient(90deg,transparent,var(--sun-glow),var(--sun),var(--sun-glow),transparent);
}
.order-title{
  font-family:'Changa',sans-serif;
  font-size:20px;
  font-weight:800;
  text-align:center;
  margin-bottom:4px;
}
.order-sub{
  text-align:center;
  font-size:12px;
  color:var(--txt3);
  margin-bottom:20px;
}

.fg{margin-bottom:14px}
.fl{
  display:block;
  font-size:11.5px;
  font-weight:600;
  color:var(--txt2);
  margin-bottom:5px;
}
.fi{
  width:100%;
  background:var(--cream);
  border:2px solid var(--cream2);
  border-radius:12px;
  padding:12px 14px;
  color:var(--txt);
  font-family:inherit;
  font-size:15px;
  font-weight:500;
  transition:border-color 0.2s;
  direction:rtl;
  -webkit-appearance:none;
  appearance:none;
}
.fi:focus{
  outline:none;
  border-color:var(--sun);
}
.fi::placeholder{color:#bbb}
select.fi{
  cursor:pointer;
  background-image:url("data:image/svg+xml,%3Csvg width='10' height='6' viewBox='0 0 10 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5 5L9 1' stroke='%23999' stroke-width='1.5' stroke-linecap='round'/%3E%3C/svg%3E");
  background-repeat:no-repeat;
  background-position:left 14px center;
}
.fi.err{border-color:var(--red)}
.errt{color:var(--red);font-size:10.5px;font-weight:500;margin-top:4px;display:none}
.errt.on{display:block}

.qty-row{display:flex;align-items:center;gap:14px}
.qty-btn{
  width:44px;height:44px;
  border-radius:12px;
  border:2px solid var(--cream2);
  background:var(--cream);
  color:var(--txt);
  font-size:20px;
  font-weight:600;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  -webkit-appearance:none;
}
.qty-btn:active{background:var(--cream2)}
.qty-val{
  font-family:'Space Mono',monospace;
  font-size:22px;
  font-weight:700;
  min-width:32px;
  text-align:center;
}

.total{
  background:var(--dark);
  border-radius:14px;
  padding:14px;
  text-align:center;
  margin:16px 0;
}
.total-lbl{font-size:12px;color:rgba(255,255,255,0.4);margin-bottom:2px}
.total-val{
  font-family:'Space Mono',monospace;
  font-size:32px;
  font-weight:700;
  color:var(--sun-glow);
  letter-spacing:-1px;
}
.total-val small{font-size:12px;color:rgba(255,255,255,0.35);letter-spacing:0}

.cta{
  width:100%;
  background:linear-gradient(135deg,var(--sun),var(--sun-deep));
  color:var(--white);
  border:none;
  padding:16px;
  border-radius:14px;
  font-family:'Changa',sans-serif;
  font-size:17px;
  font-weight:700;
  cursor:pointer;
  box-shadow:0 4px 20px rgba(232,137,12,0.35);
  position:relative;
  overflow:hidden;
  -webkit-appearance:none;
}
.cta:active{opacity:0.9;transform:scale(0.99)}
.cta.ld{pointer-events:none;opacity:0.7}
.cta .sp{
  display:none;
  width:22px;height:22px;
  border:3px solid rgba(255,255,255,0.3);
  border-top-color:var(--white);
  border-radius:50%;
  animation:spin 0.6s linear infinite;
  margin:0 auto;
}
.cta.ld .ct{display:none}
.cta.ld .sp{display:block}
@keyframes spin{to{transform:rotate(360deg)}}

.form-note{
  text-align:center;
  margin-top:12px;
  font-size:11px;
  color:var(--txt3);
  line-height:2;
}

/* ===== MODAL ===== */
.modal-bg{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.7);
  z-index:200;
  align-items:center;
  justify-content:center;
  padding:20px;
}
.modal-bg.on{display:flex}
.modal-box{
  background:var(--white);
  border-radius:24px;
  padding:36px 24px 28px;
  text-align:center;
  max-width:360px;
  width:100%;
  animation:pop 0.35s cubic-bezier(0.34,1.56,0.64,1);
}
@keyframes pop{from{transform:scale(0.85);opacity:0}to{transform:scale(1);opacity:1}}
.modal-box .m-icon{font-size:48px;margin-bottom:12px}
.modal-box .m-title{font-family:'Changa',sans-serif;font-size:19px;font-weight:700;color:var(--mint);margin-bottom:8px}
.modal-box .m-body{font-size:13px;color:var(--txt2);line-height:2;margin-bottom:18px}
.modal-box .m-btn{
  background:var(--mint);
  color:var(--white);
  border:none;
  padding:12px 32px;
  border-radius:12px;
  font-family:'Changa',sans-serif;
  font-size:14px;
  font-weight:700;
  cursor:pointer;
  -webkit-appearance:none;
}

/* ===== FOOTER ===== */
.footer{
  background:var(--dark);
  text-align:center;
  padding:24px 16px;
  font-size:11px;
  color:rgba(255,255,255,0.35);
}
.footer a{color:var(--sun-glow);text-decoration:none}

/* ===== ANIMATIONS ===== */
.rv{opacity:0;transform:translateY(24px);transition:all 0.6s ease}
.rv.vis{opacity:1;transform:translateY(0)}

.hidden{display:none!important}
</style>
</head>
<body>

<div class="ann">ğŸšš Ø§Ù„ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ Ù„Ø¬Ù…ÙŠØ¹ Ø£Ù†Ø­Ø§Ø¡ Ø§Ù„Ù…ØºØ±Ø¨ â€” Livraison gratuite</div>

<nav class="nav">
  <div class="logo">
    <div class="logo-box">â˜€ï¸</div>
    <span class="logo-txt">FM Solar</span>
  </div>
  <a href="https://wa.me/2120664995097" class="wa-btn" target="_blank">ğŸ’¬ WhatsApp</a>
</nav>

<section class="hero">
  <div class="hero-badge">â­ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ 4.8/5</div>
  <h1>ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©<br><span>Ø§Ù„Ø´Ù…Ø³ÙŠØ©</span> 3PTZ</h1>
  <p>15MP Â· 3 Ø¹Ø¯Ø³Ø§Øª Â· Ø·Ø§Ù‚Ø© Ø´Ù…Ø³ÙŠØ© + 4G<br>Ø¨Ù„Ø§ ÙˆØ§ÙŠ ÙØ§ÙŠØŒ Ø¨Ù„Ø§ ÙƒØ§Ø¨Ù„Ø§Øª â€” Sans cÃ¢bles</p>
</section>

<!-- CAROUSEL -->
<div class="carousel" id="carousel">
  <div class="carousel-inner" id="cInner">
    <div class="carousel-slide"><img src="img1.png" alt="Camera 1"></div>
    <div class="carousel-slide"><img src="img2.png" alt="Camera 2"></div>
    <div class="carousel-slide"><img src="img3.png" alt="Camera 3"></div>
  </div>
  <div class="sale-tag">-28%</div>
  <button class="carousel-arr prev" onclick="cGo(-1)">â€¹</button>
  <button class="carousel-arr next" onclick="cGo(1)">â€º</button>
  <div class="carousel-dots" id="cDots">
    <span class="active" onclick="cSet(0)"></span>
    <span onclick="cSet(1)"></span>
    <span onclick="cSet(2)"></span>
  </div>
</div>

<div class="price-row rv">
  <div class="price-big"><small>MAD </small>1,050</div>
  <div class="price-old">1,450</div>
  <div class="price-pct">-28%</div>
</div>

<div class="trust rv">
  <div class="trust-item"><div class="ti-icon">ğŸšš</div><div class="ti-txt">ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ<br>Livraison gratuite</div></div>
  <div class="trust-item"><div class="ti-icon">ğŸ’°</div><div class="ti-txt">Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…<br>Paiement COD</div></div>
  <div class="trust-item"><div class="ti-icon">ğŸ›¡ï¸</div><div class="ti-txt">Ø¶Ù…Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø©<br>QualitÃ© garantie</div></div>
</div>

<section class="features rv">
  <div class="sec-title">ğŸ”§ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª â€” CaractÃ©ristiques</div>
  <div class="feat-grid">
    <div class="feat-card"><div class="fc-icon">â˜€ï¸</div><div class="fc-name">Ø·Ø§Ù‚Ø© Ø´Ù…Ø³ÙŠØ©</div><div class="fc-desc">Ø¨Ù„Ø§ ÙØ§ØªÙˆØ±Ø© Ø¶Ùˆ â€” Solaire</div></div>
    <div class="feat-card"><div class="fc-icon">ğŸ“¡</div><div class="fc-name">Ø´Ø±ÙŠØ­Ø© 4G</div><div class="fc-desc">Ø¯Ø®Ù„ Ø§Ù„Ø´Ø±ÙŠØ­Ø© ÙˆØ®Ø¯Ù… â€” SIM 4G</div></div>
    <div class="feat-card"><div class="fc-icon">ğŸ”„</div><div class="fc-name">Ø¯ÙˆØ±Ø§Ù† 360Â°</div><div class="fc-desc">ÙƒÙ„ Ø§Ù„Ø²ÙˆØ§ÙŠØ§ â€” Panoramique</div></div>
    <div class="feat-card"><div class="fc-icon">ğŸŒ™</div><div class="fc-name">Ø±Ø¤ÙŠØ© Ù„ÙŠÙ„ÙŠØ©</div><div class="fc-desc">ÙˆØ§Ø¶Ø­Ø© ÙØ§Ù„Ø¶Ù„Ø§Ù… â€” Nocturne</div></div>
    <div class="feat-card"><div class="fc-icon">ğŸ“±</div><div class="fc-name">ØªØ­ÙƒÙ… Ø¨Ø§Ù„Ù‡Ø§ØªÙ</div><div class="fc-desc">ÙÙŠÙ† Ù…Ø§ ÙƒÙ†ØªÙŠ â€” Ã€ distance</div></div>
    <div class="feat-card"><div class="fc-icon">ğŸ¥</div><div class="fc-name">3 Ø¹Ø¯Ø³Ø§Øª 15MP</div><div class="fc-desc">Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ© â€” Haute rÃ©solution</div></div>
  </div>
</section>

<div class="proof rv">
  <div class="proof-stars">â­â­â­â­â­</div>
  <div class="proof-num">4.8 / 5</div>
  <div class="proof-txt">+200 Ø²Ø¨ÙˆÙ† Ø±Ø§Ø¶ÙŠ â€” Plus de 200 clients satisfaits</div>
</div>

<section class="order rv" id="order">
  <div class="order-title">ğŸ“¦ Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</div>
  <div class="order-sub">Commander maintenant â€” Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</div>

  <div class="fg">
    <label class="fl">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ â€” Nom complet *</label>
    <input type="text" class="fi" id="fn" placeholder="Ù…Ø«Ø§Ù„: Ø£Ø­Ù…Ø¯ Ø¨Ù†Ø¹Ù„ÙŠ" autocomplete="name">
    <div class="errt" id="en">Ø§Ù„Ù…Ø±Ø¬Ùˆ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù…</div>
  </div>
  <div class="fg">
    <label class="fl">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ â€” TÃ©lÃ©phone *</label>
    <input type="tel" class="fi" id="fp" placeholder="06XXXXXXXX" dir="ltr" autocomplete="tel">
    <div class="errt" id="ep">Ø±Ù‚Ù… Ù‡Ø§ØªÙ ØºÙŠØ± ØµØ­ÙŠØ­</div>
  </div>
  <div class="fg">
    <label class="fl">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© â€” Ville *</label>
    <select class="fi" id="fc">
      <option value="">â€” Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© â€”</option>
      <option value="Casablanca">Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡ - Casablanca</option>
      <option value="Rabat">Ø§Ù„Ø±Ø¨Ø§Ø· - Rabat</option>
      <option value="Marrakech">Ù…Ø±Ø§ÙƒØ´ - Marrakech</option>
      <option value="Fes">ÙØ§Ø³ - FÃ¨s</option>
      <option value="Tanger">Ø·Ù†Ø¬Ø© - Tanger</option>
      <option value="Agadir">Ø£ÙƒØ§Ø¯ÙŠØ± - Agadir</option>
      <option value="Meknes">Ù…ÙƒÙ†Ø§Ø³ - MeknÃ¨s</option>
      <option value="Oujda">ÙˆØ¬Ø¯Ø© - Oujda</option>
      <option value="Kenitra">Ø§Ù„Ù‚Ù†ÙŠØ·Ø±Ø© - KÃ©nitra</option>
      <option value="Tetouan">ØªØ·ÙˆØ§Ù† - TÃ©touan</option>
      <option value="Safi">Ø¢Ø³ÙÙŠ - Safi</option>
      <option value="El Jadida">Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© - El Jadida</option>
      <option value="Nador">Ø§Ù„Ù†Ø§Ø¸ÙˆØ± - Nador</option>
      <option value="Beni Mellal">Ø¨Ù†ÙŠ Ù…Ù„Ø§Ù„ - BÃ©ni Mellal</option>
      <option value="Khouribga">Ø®Ø±ÙŠØ¨ÙƒØ© - Khouribga</option>
      <option value="Settat">Ø³Ø·Ø§Øª - Settat</option>
      <option value="Mohammedia">Ø§Ù„Ù…Ø­Ù…Ø¯ÙŠØ© - Mohammedia</option>
      <option value="Autre">Ù…Ø¯ÙŠÙ†Ø© Ø£Ø®Ø±Ù‰ - Autre</option>
    </select>
    <div class="errt" id="ec">Ø§Ù„Ù…Ø±Ø¬Ùˆ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</div>
  </div>
  <div class="fg hidden" id="ow">
    <label class="fl">Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© â€” Nom de la ville</label>
    <input type="text" class="fi" id="fo" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©">
  </div>
  <div class="fg">
    <label class="fl">Ø§Ù„Ø¹Ø¯Ø¯ â€” QuantitÃ©</label>
    <div class="qty-row">
      <button class="qty-btn" onclick="qc(-1)">âˆ’</button>
      <div class="qty-val" id="qv">1</div>
      <button class="qty-btn" onclick="qc(1)">+</button>
    </div>
  </div>

  <div class="total">
    <div class="total-lbl">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ â€” Total</div>
    <div class="total-val" id="tp">1,050 <small>MAD</small></div>
  </div>

  <button class="cta" id="sb" onclick="send()">
    <span class="ct">âœ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ â€” Confirmer</span>
    <div class="sp"></div>
  </button>
  <div class="form-note">ğŸ’° Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…<br>ğŸšš ØªÙˆØµÙŠÙ„ 24-48 Ø³Ø§Ø¹Ø©</div>
</section>

<footer class="footer">
  <p>Â© 2026 FM Solar Shop</p>
  <p style="margin-top:6px"><a href="https://wa.me/2120664995097">ğŸ’¬ WhatsApp: 0664-995097</a></p>
</footer>

<div class="modal-bg" id="modal">
  <div class="modal-box">
    <div class="m-icon">âœ…</div>
    <div class="m-title">ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­!</div>
    <div class="m-body">Votre commande a Ã©tÃ© enregistrÃ©e.<br><br>ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ£ÙƒÙŠØ¯ ØºØ§Ø¯ÙŠ ÙŠØªÙˆØ§ØµÙ„ Ù…Ø¹Ø§Ùƒ Ù‚Ø±ÙŠØ¨Ø§ ğŸ“</div>
    <button class="m-btn" onclick="cm()">ğŸ‘ Ø­Ø³Ù†Ø§ â€” D'accord</button>
  </div>
</div>

<script>
// ===== GOOGLE SHEET API =====
var API='https://script.google.com/macros/s/AKfycbxsMD917GeLuK43Z73tyuNJOgwytll7p4ToFnDTer2D4RiRQ8P3cl-UljSGGH5rNQdz/exec';

// ===== CAROUSEL =====
(function(){
  var inner=document.getElementById('cInner');
  var dots=document.querySelectorAll('#cDots span');
  var total=3;
  var cur=0;
  var startX=0,moveX=0,dragging=false;
  var w=function(){return document.getElementById('carousel').offsetWidth};

  function go(n){
    if(n<0)n=total-1;
    if(n>=total)n=0;
    cur=n;
    inner.style.transform='translateX('+cur*w()+'px)';
    dots.forEach(function(d,i){d.className=i===cur?'active':''});
  }

  // Arrows
  window.cGo=function(d){go(cur+d)};
  window.cSet=function(n){go(n)};

  // Touch
  inner.addEventListener('touchstart',function(e){
    startX=e.touches[0].clientX;
    moveX=0;
    dragging=true;
    inner.classList.add('dragging');
  },{passive:true});

  inner.addEventListener('touchmove',function(e){
    if(!dragging)return;
    moveX=e.touches[0].clientX-startX;
    var offset=cur*w()-moveX;
    inner.style.transform='translateX('+(-offset)+'px)';
  },{passive:true});

  inner.addEventListener('touchend',function(){
    dragging=false;
    inner.classList.remove('dragging');
    if(Math.abs(moveX)>50){
      if(moveX>0)go(cur-1);
      else go(cur+1);
    }else{
      go(cur);
    }
    moveX=0;
  },{passive:true});

  // Auto
  var autoTimer=setInterval(function(){go(cur+1)},5000);

  // Pause auto on touch
  document.getElementById('carousel').addEventListener('touchstart',function(){
    clearInterval(autoTimer);
    autoTimer=setInterval(function(){go(cur+1)},5000);
  },{passive:true});

  // RTL fix: use positive translateX
  go(0);
})();

// ===== QUANTITY =====
var q=1,P=1050;
function qc(d){
  q=Math.max(1,Math.min(10,q+d));
  document.getElementById('qv').textContent=q;
  document.getElementById('tp').innerHTML=(P*q).toLocaleString()+' <small>MAD</small>';
}

// ===== CITY =====
document.getElementById('fc').addEventListener('change',function(){
  document.getElementById('ow').classList.toggle('hidden',this.value!=='Autre');
});

// ===== SUBMIT =====
function send(){
  document.querySelectorAll('.fi').forEach(function(e){e.classList.remove('err')});
  document.querySelectorAll('.errt').forEach(function(e){e.classList.remove('on')});

  var n=document.getElementById('fn').value.trim();
  var p=document.getElementById('fp').value.trim();
  var c=document.getElementById('fc').value;
  if(c==='Autre')c=document.getElementById('fo').value.trim();

  var ok=true;
  if(!n){document.getElementById('fn').classList.add('err');document.getElementById('en').classList.add('on');ok=false}
  if(!p||p.length<9){document.getElementById('fp').classList.add('err');document.getElementById('ep').classList.add('on');ok=false}
  if(!c){document.getElementById('fc').classList.add('err');document.getElementById('ec').classList.add('on');ok=false}
  if(!ok){
    var first=document.querySelector('.err');
    if(first)first.scrollIntoView({behavior:'smooth',block:'center'});
    return;
  }

  var btn=document.getElementById('sb');
  btn.classList.add('ld');

  var data={
    date:new Date().toLocaleDateString('fr-FR'),
    name:n,city:c,phone:p,
    product:'Camera Solaire 3PTZ 15MP',
    price:P*q,quantity:q,
    status:'Confirmed',payment:'Pending',source:'Website'
  };

  fetch(API,{
    method:'POST',
    mode:'no-cors',
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify(data)
  }).then(function(){
    btn.classList.remove('ld');
    done();
  }).catch(function(){
    btn.classList.remove('ld');
    done();
  });
}

function done(){
  document.getElementById('modal').classList.add('on');
  document.getElementById('fn').value='';
  document.getElementById('fp').value='';
  document.getElementById('fc').value='';
  q=1;
  document.getElementById('qv').textContent='1';
  document.getElementById('tp').innerHTML='1,050 <small>MAD</small>';
}
function cm(){document.getElementById('modal').classList.remove('on')}

// ===== SCROLL REVEAL =====
var obs=new IntersectionObserver(function(entries){
  entries.forEach(function(e){if(e.isIntersecting)e.target.classList.add('vis')});
},{threshold:0.1});
document.querySelectorAll('.rv').forEach(function(el){obs.observe(el)});
</script>
</body>
</html>